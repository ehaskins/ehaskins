{"componentChunkName":"component---src-templates-blog-post-js","path":"/2015-03-12 Securing ASP.net 5 WebAPIs with Auth0/","webpackCompilationHash":"04c9b1c30955a8ce71b4","result":{"data":{"site":{"siteMetadata":{"title":"Eric Haskins","author":"Eric Haskins"}},"markdownRemark":{"id":"2a2ae125-ac08-59e6-9593-096055bb8a19","html":"<h1>Pre-release warning</h1>\n<p>This is written while I’m working with ASP.net 5 beta 3. Things may change.</p>\n<h1>Stuff you should have already done</h1>\n<ul>\n<li>Setup an Auth0 dev account. It’s really easy. Go do it.</li>\n<li>Followed the instructions Auth0’s QuickStart to setup your client app, or downloaded their started app.</li>\n</ul>\n<h1>Setting up ASP.net 5</h1>\n<p>My first issue was that I was looking for a Jwt or OpenIdConnect middleware like the Auth0 quickstart says for old OWIN apps. Looks like that’s been merged into the plain old Microsoft.AspNet.Security.OAuthBearer NuGet package.</p>\n<h2>Step 1 - Add Nuget package</h2>\n<p>In project.json the add Nuget package to your dependencies:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;dependencies&quot;: {\n\t...\n    &quot;Microsoft.AspNet.Security.OAuthBearer&quot;: &quot;1.0.0-beta3&quot;\n}</code></pre></div>\n<h2>Step 2 - Set it up in setup.cs</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">public void Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerfactory)\n{\n    app.UseOAuthBearerAuthentication(o =&gt;\n    {\n        o.Authority = &quot;YOUR AUTH0 DOMAIN.auth0.com&quot;;\n        o.Audience = &quot;YOUR CLIENT ID GOES HERE&quot;;\n    });\n\n\t//everything else from the template\n\n}</code></pre></div>\n<h2>Step 3 - Change the JWT signing algorithm</h2>\n<p>FYI, This step may not be needed once everything is RTM, but it’s also the one that hung me up for a while.</p>\n<p>Go to your Auth0 admin UI. Open the settings tab for the app you’ve created, and set the JsonWebToken Token Signature Algorithm to RS256.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4dd282ef4e333ea59969190a361d219a/a0331/auth0-jwt-algorithm.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.35849056603774%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHdqKhiK//EABUQAQEAAAAAAAAAAAAAAAAAABBB/9oACAEBAAEFAmn/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAADAAMAAAAAAAAAAAAAAAAAAREQIYH/2gAIAQEAAT8h4Uontn//2gAMAwEAAgADAAAAEIjP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFhEBAQEAAAAAAAAAAAAAAAAAERAh/9oACAECAQE/EHSf/8QAGhABAQACAwAAAAAAAAAAAAAAAREAECExYf/aAAgBAQABPxARWI9diQvWC151/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"auth0 jwt algorithm\"\n        title=\"auth0 jwt algorithm\"\n        src=\"/static/4dd282ef4e333ea59969190a361d219a/c739e/auth0-jwt-algorithm.jpg\"\n        srcset=\"/static/4dd282ef4e333ea59969190a361d219a/8ee9c/auth0-jwt-algorithm.jpg 148w,\n/static/4dd282ef4e333ea59969190a361d219a/ebbe7/auth0-jwt-algorithm.jpg 295w,\n/static/4dd282ef4e333ea59969190a361d219a/c739e/auth0-jwt-algorithm.jpg 590w,\n/static/4dd282ef4e333ea59969190a361d219a/a0331/auth0-jwt-algorithm.jpg 795w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"Securing ASP.net 5 WebAPIs with Auth0","date":"March 12, 2015"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2015-03-12 Securing ASP.net 5 WebAPIs with Auth0/"}}}